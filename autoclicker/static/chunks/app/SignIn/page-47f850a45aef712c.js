(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{7952:function(e,t,s){Promise.resolve().then(s.bind(s,9401))},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},9401:function(e,t,s){"use strict";s.r(t);var a=s(3827),o=s(7908),i=s(8792),l=s(7907),r=s(4090),n=s(3411),m=s.n(n);t.default=()=>{let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("email");e&&s(e)},[]);let[g,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let t=localStorage.getItem("token");t?(x(!0),e.push("/")):""==t&&(localStorage.removeItem("token"),x(!1))},[]),(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("email");e&&c(e)},[]);let f=async e=>{e.preventDefault(),o.Z.post("http://localhost:8081/auth/signin",{email:n,password:d}).then(e=>{localStorage.setItem("token",e.data.token),localStorage.setItem("uid",e.data.id),"USER"==e.data.role?window.location.href="/":"ADMIN"==e.data.role?window.location.href="/":(c(""),u(""),m().fire({icon:"error",title:"Oops...",text:"Please enter a valid email id or password ",footer:"Please try again later"}),localStorage.removeItem("token"),x(!1)),console.log("res..",e)}).catch(e=>{console.log("err",e)})};return(0,a.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 p0",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)("img",{className:"mx-auto h-10 w-auto",src:"/logo.png",alt:"Your Company"}),(0,a.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight p4 text-gray-900",children:"Sign in to your account"})]}),(0,a.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsxs)("form",{className:"space-y-6",method:"POST",onSubmit:f,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 p4 text-gray-900",children:"Email address"}),(0,a.jsx)("div",{className:"mt-2 ",children:(0,a.jsx)("input",{defaultValue:t,onChange:e=>{c(e.target.value)},id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 p4 text-gray-900",children:"Password"}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{onChange:e=>{u(e.target.value)},id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 mb-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign in"})})]}),(0,a.jsx)("div",{class:"flex flex-col max-w-sm gap-2"}),(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Not a member?"," ",(0,a.jsx)(i.default,{href:"/SignUp",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"SignUp"})]})]})]})}}},function(e){e.O(0,[9461,8792,7908,2971,8069,1744],function(){return e(e.s=7952)}),_N_E=e.O()}]);